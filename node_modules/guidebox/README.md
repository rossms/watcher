# guidebox-node

Node.js wrapper for the [Guidebox](https://api.guidebox.com) API. See full Guidebox documentation [here](https://api.guidebox.com).

## Table of Contents

- [Registration](#registration)
- [Installation](#installation)
- [Usage](#usage)
- [Options](#options)
- [Examples](#examples)
- [API Documentation](#api-documentation)
- [Contributing](#contributing)

### Registration

First, you will need to first create an account at [Guidebox.com](https://api.guidebox.com/register) and obtain your API Key.

### Installation

guidebox-node can be installed through the npm:

```
$ npm install guidebox
```

### Usage
```javascript
var Guidebox = require('guidebox')('YOUR API KEY');

// change region
var Guidebox = require('guidebox')('YOUR API KEY', 'JP');

// change internal defaults (e.g. host)
var options = {/* see options below */};
var Guidebox = require('guidebox')('YOUR API KEY', options);

// callback pattern
Guidebox.settings.list({ type: 1 }, function (err, body) {
  if (err) return callback(err);
  return callback(null, body.data);
});
```

Additionally, every resource method returns a promise, so you don't have to use the regular callback. E.g.

```javascript
var Guidebox = require('guidebox')('YOUR API KEY');

Guidebox.movies.list()
.then(function (res) {
  console.log(res.data);
})
.catch(function (e) {
  console.log(e);
});
```

#### Accessing Response Headers

You can access response headers via a hidden `_response` property.

```js
Guidebox.movies.list()
.then(function (res) {
  res._response.headers['X-RateLimit-Limit'];
  // => 240
});
```

You can also access headers from errors.

```js
Guidebox.shows.retrieve(6959)
.catch(function (err) {
  err._response.headers['content-type'];
  // => "application/json; charset=utf-8"
});
```

=======================

Copyright &copy; 2017 Guidebox.com

Released under the MIT License, which can be found in the repository in `LICENSE.txt`.
